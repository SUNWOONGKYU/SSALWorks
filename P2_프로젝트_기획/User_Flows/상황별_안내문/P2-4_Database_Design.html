<h2 style="color: var(--primary-dark); border-bottom: 2px solid var(--primary); padding-bottom: 8px;">P2-4 데이터베이스 설계 안내</h2>

<p style="margin-bottom: 12px;">> <strong>Stage</strong>: P2 프로젝트 기획</p>
<p style="margin-bottom: 12px;">> <strong>Task ID</strong>: P2-4</p>
<p style="margin-bottom: 12px;">> <strong>버전</strong>: 2.1 (Stage Context 추가)</p>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">1. Stage 맥락 (Context)</h3>

<h4 style="margin-top: 16px; color: #555;">P2 Stage 내 항목 위치</h4>
<p style="margin-bottom: 12px;">```</p>
<p style="margin-bottom: 12px;">P2 프로젝트 기획</p>
<p style="margin-bottom: 12px;">├── P2-1: Directory Structure ✅</p>
<p style="margin-bottom: 12px;">├── P2-2-1: Requirements ✅</p>
<p style="margin-bottom: 12px;">├── P2-2-2: User Flows ✅</p>
<p style="margin-bottom: 12px;">├── P2-2-3: Workflows ✅</p>
<p style="margin-bottom: 12px;">├── P2-3-1: Design Guidelines ✅</p>
<p style="margin-bottom: 12px;">├── P2-3-2: Mockup ✅</p>
<p style="margin-bottom: 12px;">├── P2-3-3: Prototype ✅</p>
<p style="margin-bottom: 12px;">└── [P2-4] Database Design ← 현재 항목 (P2 마지막)</p>
<p style="margin-bottom: 12px;">```</p>

<h4 style="margin-top: 16px; color: #555;">이전 항목에서 완료된 것 (P2-3-3)</h4>
<ul style="padding-left: 20px; margin-bottom: 15px;">
<li style="margin-bottom: 8px;">✅ 프로토타입 범위 정의</li>
<li style="margin-bottom: 8px;">✅ 인터랙션 구현</li>
<li style="margin-bottom: 8px;">✅ 테스트 시나리오 작성</li>
</ul>

<h4 style="margin-top: 16px; color: #555;">현재 항목에서 수행할 것 (P2-4)</h4>
<ul style="padding-left: 20px; margin-bottom: 15px;">
<li style="margin-bottom: 8px;">🔄 엔티티 정의</li>
<li style="margin-bottom: 8px;">🔄 테이블 스키마 설계</li>
<li style="margin-bottom: 8px;">🔄 ERD 작성</li>
<li style="margin-bottom: 8px;">🔄 SQL 스크립트 생성</li>
</ul>

<h4 style="margin-top: 16px; color: #555;">다음 Stage에서 수행할 것 (P3)</h4>
<ul style="padding-left: 20px; margin-bottom: 15px;">
<li style="margin-bottom: 8px;">⏳ 프론트엔드 프로토타입 구현</li>
<li style="margin-bottom: 8px;">⏳ 데이터베이스 구축</li>
<li style="margin-bottom: 8px;">⏳ 스크립트 및 자동화</li>
</ul>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">2. 이 단계에서 수행하는 작업</h3>

<p style="margin-bottom: 12px;"><strong>데이터베이스 스키마 설계</strong>를 위한 Order Sheet를 발행합니다.</p>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">3. 작업 목적</h3>

<p style="margin-bottom: 12px;">프로젝트에서 사용할 데이터베이스 구조를 설계합니다.</p>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">4. 주요 작업 내용</h3>

<h4 style="margin-top: 16px; color: #555;">3.1 엔티티 정의</h4>
<ul style="padding-left: 20px; margin-bottom: 15px;">
<li style="margin-bottom: 8px;">주요 엔티티 식별</li>
<li style="margin-bottom: 8px;">엔티티별 속성 정의</li>
<li style="margin-bottom: 8px;">관계 설정 (1:1, 1:N, N:M)</li>
</ul>

<h4 style="margin-top: 16px; color: #555;">3.2 테이블 스키마 설계</h4>
<ul style="padding-left: 20px; margin-bottom: 15px;">
<li style="margin-bottom: 8px;">컬럼 정의 (이름, 타입, 제약조건)</li>
<li style="margin-bottom: 8px;">Primary Key / Foreign Key</li>
<li style="margin-bottom: 8px;">인덱스 전략</li>
</ul>

<h4 style="margin-top: 16px; color: #555;">3.3 ERD 작성</h4>
<ul style="padding-left: 20px; margin-bottom: 15px;">
<li style="margin-bottom: 8px;">엔티티 관계 다이어그램</li>
<li style="margin-bottom: 8px;">관계 유형 및 카디널리티 표시</li>
</ul>

<h4 style="margin-top: 16px; color: #555;">3.4 SQL 스크립트 생성</h4>
<ul style="padding-left: 20px; margin-bottom: 15px;">
<li style="margin-bottom: 8px;">테이블 생성 SQL</li>
<li style="margin-bottom: 8px;">RLS 정책 (Supabase 사용 시)</li>
<li style="margin-bottom: 8px;">초기 데이터 시드</li>
</ul>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">5. 필요한 입력 정보</h3>

<p style="margin-bottom: 12px;">| 항목 | 설명 |</p>
<p style="margin-bottom: 12px;">|------|------|</p>
<p style="margin-bottom: 12px;">| 데이터 항목 목록 | 저장할 데이터 종류 |</p>
<p style="margin-bottom: 12px;">| 데이터 관계 | 엔티티 간 관계 |</p>
<p style="margin-bottom: 12px;">| 보안 요구사항 | 접근 권한 정책 |</p>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">6. 예상 결과물</h3>

<ul style="padding-left: 20px; margin-bottom: 15px;">
<li style="margin-bottom: 8px;">`P2_프로젝트_기획/Database_Design/ERD.md`</li>
<li style="margin-bottom: 8px;">`P2_프로젝트_기획/Database_Design/Schema.md`</li>
<li style="margin-bottom: 8px;">`P3_프로토타입_제작/Database/` SQL 파일</li>
</ul>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">7. Task 정보</h3>

<p style="margin-bottom: 12px;">| 항목 | 값 |</p>
<p style="margin-bottom: 12px;">|------|-----|</p>
<p style="margin-bottom: 12px;">| Task Agent | database-specialist |</p>
<p style="margin-bottom: 12px;">| Verification Agent | qa-specialist |</p>
<p style="margin-bottom: 12px;">| 실행 유형 | AI-Only |</p>
<p style="margin-bottom: 12px;">| 의존성 | P2-3 완료 |</p>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">8. Stage 완료 후</h3>

<p style="margin-bottom: 12px;">P2 완료 → P3 (프로토타입 제작) 진행</p>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<p style="margin-bottom: 12px;"><strong>확인 버튼을 클릭하면 Workspace에 Order Sheet가 로드됩니다.</strong></p>
