# P3-2 데이터베이스 구축 안내

> **Stage**: P3 프로토타입 제작
> **Task ID**: P3-2
> **버전**: 2.1 (Stage Context 추가)

---

## 1. Stage 맥락 (Context)

### P3 Stage 내 항목 위치
```
P3 프로토타입 제작
├── P3-1-1: Frontend Prototype ✅
├── P3-1-2: Frontend Pages ✅
├── [P3-2] Database ← 현재 항목
└── P3-3: Scripts
```

### 이전 항목에서 완료된 것 (P3-1-2)
- ✅ 추가 페이지 구현
- ✅ 네비게이션 연결
- ✅ 페이지별 기능 구현

### 현재 항목에서 수행할 것 (P3-2)
- 🔄 테이블 생성 (SQL)
- 🔄 RLS 정책 설정
- 🔄 초기 데이터 (Seed) 삽입

### 다음 항목에서 수행할 것 (P3-3)
- ⏳ 유틸리티 스크립트 작성
- ⏳ 자동화 스크립트 개발
- ⏳ 사용 가이드 작성

---

## 2. 이 단계에서 수행하는 작업

**데이터베이스 프로토타입 구축**을 위한 Order Sheet를 발행합니다.

---

## 3. 작업 목적

설계된 스키마를 기반으로 실제 데이터베이스를 구축합니다.

---

## 4. 주요 작업 내용

### 3.1 테이블 생성
- DB 설계서 기반 테이블 SQL 작성
- 제약조건 및 인덱스 설정
- 관계(FK) 설정

### 3.2 RLS 정책 설정
- 테이블별 접근 권한 정책
- 인증 기반 접근 제어
- 역할별 권한 분리

### 3.3 초기 데이터 (Seed)
- 테스트용 샘플 데이터
- 기본 설정 데이터
- 데모용 데이터

---

## 5. 필요한 입력 정보

| 항목 | 설명 |
|------|------|
| 데이터베이스 설계 문서 | P2-4 결과물 |
| Supabase 접속 정보 | 프로젝트 URL, 키 |
| 초기 데이터 샘플 | 시드 데이터 |

---

## 6. 예상 결과물

- `P3_프로토타입_제작/Database/` SQL 파일들
- `Production/Database/` (이중 저장)
- RLS 정책 파일
- 시드 데이터 파일

---

## 7. Task 정보

| 항목 | 값 |
|------|-----|
| Task Agent | database-specialist |
| Verification Agent | qa-specialist |
| 실행 유형 | Human-AI |
| 의존성 | P2-4 완료 |

---

## 8. PO 작업 가이드

### Supabase SQL 실행 순서
```
1. 01_create_tables.sql 실행
2. 02_rls_policies.sql 실행
3. 03_seed_data.sql 실행
```

---

## 9. 다음 단계

P3-2 완료 → P3-3 (유틸리티 스크립트) 진행

---

**확인 버튼을 클릭하면 Workspace에 Order Sheet가 로드됩니다.**
