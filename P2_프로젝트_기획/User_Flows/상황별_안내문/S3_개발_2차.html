<h2 style="color: var(--primary-dark); border-bottom: 2px solid var(--primary); padding-bottom: 8px;">S3 개발 2차 (Advanced Features) 안내문</h2>

<p style="margin-bottom: 12px;">> <strong>작성일</strong>: 2025-12-17</p>
<p style="margin-bottom: 12px;">> <strong>버전</strong>: 2.1 (Stage Context 추가)</p>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">1. Stage 맥락 (Context)</h3>

<h4 style="margin-top: 16px; color: #555;">현재 위치</h4>
<p style="margin-bottom: 12px;">```</p>
<p style="margin-bottom: 12px;">┌─────────────────────────────────────────────────────────────────────────┐</p>
<p style="margin-bottom: 12px;">│                        SSAL Works 개발 흐름                              │</p>
<p style="margin-bottom: 12px;">├─────────────────────────────────────────────────────────────────────────┤</p>
<p style="margin-bottom: 12px;">│                                                                         │</p>
<p style="margin-bottom: 12px;">│   P0~P3        ▶▶▶   S1   ▶▶▶   S2   ▶▶▶   [S3]   ▶▶▶   S4   ▶▶▶   S5  │</p>
<p style="margin-bottom: 12px;">│   예비단계           개발준비     개발1차      개발2차     개발3차     운영  │</p>
<p style="margin-bottom: 12px;">│   (기획/설계)        (기반구축)   (핵심기능)   (고급기능)  (QA/최적화) (배포) │</p>
<p style="margin-bottom: 12px;">│                                              ────────                   │</p>
<p style="margin-bottom: 12px;">│                                              현재 Stage                 │</p>
<p style="margin-bottom: 12px;">│                                                                         │</p>
<p style="margin-bottom: 12px;">└─────────────────────────────────────────────────────────────────────────┘</p>
<p style="margin-bottom: 12px;">```</p>

<h4 style="margin-top: 16px; color: #555;">Stage 간 관계</h4>

<p style="margin-bottom: 12px;">| 단계 | Stage | 설명 | 비고 |</p>
<p style="margin-bottom: 12px;">|------|-------|------|------|</p>
<p style="margin-bottom: 12px;">| 이전 | S2 | 개발 1차 - 핵심 기능 완료 | ✅ 완료됨 |</p>
<p style="margin-bottom: 12px;">| <strong>현재</strong> | <strong>S3</strong> | <strong>개발 2차 - 고급 기능 구현</strong> | <strong>🔄 진행 중</strong> |</p>
<p style="margin-bottom: 12px;">| 다음 | S4 | 개발 3차 - QA 및 최적화 | ⏳ 대기 |</p>

<h4 style="margin-top: 16px; color: #555;">이전 단계에서 완료된 것 (S2)</h4>
<ul style="padding-left: 20px; margin-bottom: 15px;">
<li style="margin-bottom: 8px;">✅ 인증/인가 시스템 구현 (Google OAuth, 세션 관리)</li>
<li style="margin-bottom: 8px;">✅ 이메일 시스템 연동 (Resend)</li>
<li style="margin-bottom: 8px;">✅ 구독 관리 API 개발</li>
<li style="margin-bottom: 8px;">✅ 프론트엔드 인증 페이지 구현</li>
<li style="margin-bottom: 8px;">✅ 인증 미들웨어 구축</li>
<li style="margin-bottom: 8px;">✅ 테스트 인프라 구축</li>
<li style="margin-bottom: 8px;">✅ API 문서화</li>
</ul>

<h4 style="margin-top: 16px; color: #555;">현재 단계에서 수행할 것 (S3)</h4>
<ul style="padding-left: 20px; margin-bottom: 15px;">
<li style="margin-bottom: 8px;">🔄 AI 서비스 연동 (OpenAI, Claude 등)</li>
<li style="margin-bottom: 8px;">🔄 결제 시스템 기반 구축 (토스 페이먼트 준비)</li>
<li style="margin-bottom: 8px;">🔄 대시보드 기능 고도화</li>
<li style="margin-bottom: 8px;">🔄 알림 시스템 구축</li>
<li style="margin-bottom: 8px;">🔄 크레딧 관리 기능</li>
<li style="margin-bottom: 8px;">🔄 API Rate Limiting</li>
</ul>

<h4 style="margin-top: 16px; color: #555;">다음 단계에서 수행할 것 (S4)</h4>
<ul style="padding-left: 20px; margin-bottom: 15px;">
<li style="margin-bottom: 8px;">⏳ 결제 시스템 연동 (토스 페이먼트)</li>
<li style="margin-bottom: 8px;">⏳ 종합 테스트 (Unit, Integration, E2E)</li>
<li style="margin-bottom: 8px;">⏳ 성능 최적화</li>
<li style="margin-bottom: 8px;">⏳ 버그 수정 및 안정화</li>
<li style="margin-bottom: 8px;">⏳ 보안 감사</li>
</ul>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">2. Stage 개요</h3>

<p style="margin-bottom: 12px;"><strong>S3 (개발 2차)</strong>는 고급 기능을 구현하는 단계입니다.</p>

<h4 style="margin-top: 16px; color: #555;">Stage 목표</h4>
<ul style="padding-left: 20px; margin-bottom: 15px;">
<li style="margin-bottom: 8px;">AI 서비스 연동 (OpenAI, Claude 등)</li>
<li style="margin-bottom: 8px;">결제 시스템 기반 구축 (토스 페이먼트 준비)</li>
<li style="margin-bottom: 8px;">대시보드 기능 고도화</li>
<li style="margin-bottom: 8px;">알림 시스템 구축</li>
<li style="margin-bottom: 8px;">고급 사용자 관리 기능</li>
</ul>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">3. Task 목록 (예상 11개)</h3>

<p style="margin-bottom: 12px;">| Task ID | Task Name | Area | 유형 |</p>
<p style="margin-bottom: 12px;">|---------|-----------|------|------|</p>
<p style="margin-bottom: 12px;">| S3F1 | 대시보드 고도화 | Frontend | AI-Only |</p>
<p style="margin-bottom: 12px;">| S3F2 | 알림 센터 UI | Frontend | AI-Only |</p>
<p style="margin-bottom: 12px;">| S3F3 | AI 서비스 UI | Frontend | AI-Only |</p>
<p style="margin-bottom: 12px;">| S3BA1 | AI 서비스 API | Backend_APIs | AI-Only |</p>
<p style="margin-bottom: 12px;">| S3BA2 | 크레딧 관리 API | Backend_APIs | AI-Only |</p>
<p style="margin-bottom: 12px;">| S3BA3 | 알림 API | Backend_APIs | AI-Only |</p>
<p style="margin-bottom: 12px;">| S3BI1 | OpenAI 연동 모듈 | Backend_Infra | <strong>Human-AI</strong> |</p>
<p style="margin-bottom: 12px;">| S3D1 | AI 사용량 테이블 최적화 | Database | <strong>PO 실행</strong> |</p>
<p style="margin-bottom: 12px;">| S3S1 | API Rate Limiting | Security | AI-Only |</p>
<p style="margin-bottom: 12px;">| S3T1 | AI 서비스 테스트 | Testing | AI-Only |</p>
<p style="margin-bottom: 12px;">| S3M1 | AI 서비스 문서화 | Documentation | AI-Only |</p>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">4. 작업 규칙</h3>

<h4 style="margin-top: 16px; color: #555;">파일 저장 규칙 (이중 저장)</h4>
<ul style="padding-left: 20px; margin-bottom: 15px;">
<li style="margin-bottom: 8px;">Frontend, Backend_APIs, Database → Stage 폴더 + Production 폴더</li>
<li style="margin-bottom: 8px;">문서 → Stage 폴더에만</li>
</ul>

<h4 style="margin-top: 16px; color: #555;">Task ID 코멘트</h4>
<p style="margin-bottom: 12px;">```javascript</p>
<p style="margin-bottom: 12px;">// Task ID: S3BA1 - AI 서비스 API</p>
<p style="margin-bottom: 12px;">```</p>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">5. 검증 프로세스 (3단계)</h3>

<p style="margin-bottom: 12px;">```</p>
<p style="margin-bottom: 12px;">1단계: Task Agent → 작업 수행</p>
<p style="margin-bottom: 12px;">2단계: Verification Agent → 검증 (작성자 ≠ 검증자)</p>
<p style="margin-bottom: 12px;">3단계: Stage Gate → Main Agent 직접 수행</p>
<p style="margin-bottom: 12px;">4단계: PO 승인 → 테스트 후 승인/거부</p>
<p style="margin-bottom: 12px;">```</p>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">6. PO(Project Owner) 필수 작업</h3>

<h4 style="margin-top: 16px; color: #555;">S3BI1: OpenAI API 설정</h4>
<p style="margin-bottom: 12px;">1. https://platform.openai.com 접속</p>
<p style="margin-bottom: 12px;">2. API Keys → Create new secret key</p>
<p style="margin-bottom: 12px;">3. API Key 복사 (한 번만 표시됨!)</p>
<p style="margin-bottom: 12px;">4. Vercel 환경변수에 OPENAI_API_KEY 추가</p>
<p style="margin-bottom: 12px;">5. 사용량 제한 설정 (Cost Limit)</p>

<h4 style="margin-top: 16px; color: #555;">S3D1: SQL 실행</h4>
<p style="margin-bottom: 12px;">1. Supabase SQL Editor 접속</p>
<p style="margin-bottom: 12px;">2. S3D1 SQL 파일 실행</p>
<p style="margin-bottom: 12px;">3. 테이블/인덱스 생성 확인</p>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">7. Stage Gate 완료 기준</h3>

<h4 style="margin-top: 16px; color: #555;">체크리스트</h4>
<ul style="padding-left: 20px; margin-bottom: 15px;">
<li style="margin-bottom: 8px;">[ ] S3F1: 대시보드 차트/데이터 표시 확인</li>
<li style="margin-bottom: 8px;">[ ] S3F2: 알림 센터 동작 확인</li>
<li style="margin-bottom: 8px;">[ ] S3F3: AI 서비스 UI 동작 확인</li>
<li style="margin-bottom: 8px;">[ ] S3BA1: AI API 호출 테스트</li>
<li style="margin-bottom: 8px;">[ ] S3BA2: 크레딧 차감 테스트</li>
<li style="margin-bottom: 8px;">[ ] S3D1: DB 테이블 최적화 확인</li>
</ul>

<h4 style="margin-top: 16px; color: #555;">다음 Stage 조건</h4>
<p style="margin-bottom: 12px;">S3 완료 → S4 시작 가능</p>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<h3 style="margin-top: 24px; color: #333;">8. 주의사항</h3>

<p style="margin-bottom: 12px;">```</p>
<p style="margin-bottom: 12px;">⚠️ AI API 키 보안 철저히 관리!</p>
<p style="margin-bottom: 12px;">⚠️ API Rate Limiting 필수 구현!</p>
<p style="margin-bottom: 12px;">⚠️ 크레딧 차감 로직 정확성 검증!</p>
<p style="margin-bottom: 12px;">⚠️ 비용 폭주 방지 장치 확인!</p>
<p style="margin-bottom: 12px;">```</p>

<hr style="margin: 20px 0; border: none; border-top: 1px solid #dee2e6;">

<p style="margin-bottom: 12px;"><strong>확인 버튼을 클릭하면 Workspace에 Order Sheet가 로드됩니다.</strong></p>
