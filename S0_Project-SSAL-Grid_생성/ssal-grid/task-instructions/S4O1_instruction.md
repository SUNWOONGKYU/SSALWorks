# Task Instruction - S4O1

---

## ğŸ“Œ í•„ìˆ˜ ì°¸ì¡° ê·œì¹™ íŒŒì¼ (2025-12-19)

> **âš ï¸ ì‘ì—… ì „ ë°˜ë“œì‹œ ì•„ë˜ ê·œì¹™ íŒŒì¼ì„ í™•ì¸í•˜ì„¸ìš”!**

| ê·œì¹™ íŒŒì¼ | ë‚´ìš© | ì°¸ì¡° ì‹œì  |
|----------|------|----------|
| `.claude/rules/01_file-naming.md` | íŒŒì¼ ëª…ëª… ê·œì¹™ | íŒŒì¼ ìƒì„± ì‹œ |
| `.claude/rules/02_save-location.md` | ì €ì¥ ìœ„ì¹˜ ê·œì¹™ | íŒŒì¼ ì €ì¥ ì‹œ |
| `.claude/rules/03_area-stage.md` | Area/Stage ë§¤í•‘ | í´ë” ì„ íƒ ì‹œ |
| `.claude/rules/05_execution-process.md` | 6ë‹¨ê³„ ì‹¤í–‰ í”„ë¡œì„¸ìŠ¤ | ì‘ì—… ì „ì²´ |



## Task ID
S4O1

## Task Name
Cron Jobs ì„¤ì •

## Task Goal
í† ìŠ¤ í˜ì´ë¨¼íŠ¸ ê°€ë§¹ì  ë“±ë¡ ë° ìš´ì˜ í™˜ê²½ ì„¤ì •

## Prerequisites (Dependencies)
- S4M1 (MVP ìµœì¢… ê²€í† ) ì™„ë£Œ
- ì‚¬ì—…ìë“±ë¡ì¦ ì¤€ë¹„

## Specific Instructions

### 1. í† ìŠ¤ í˜ì´ë¨¼íŠ¸ ê³„ì • ìƒì„±
- URL: https://developers.tosspayments.com/
- íšŒì›ê°€ì… ì§„í–‰
- ê°œë°œì ëŒ€ì‹œë³´ë“œ ì ‘ê·¼

### 2. í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •
```
1. ê°œë°œìì„¼í„° > ê°œë°œì •ë³´ > í…ŒìŠ¤íŠ¸ API í‚¤ í™•ì¸
   - Client Key: test_ck_xxxxxxxxxxxxxxx
   - Secret Key: test_sk_xxxxxxxxxxxxxxx

2. í…ŒìŠ¤íŠ¸ í™˜ê²½ íŠ¹ì§•:
   - ì‹¤ì œ ê²°ì œ ì—†ì´ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
   - í…ŒìŠ¤íŠ¸ ì¹´ë“œ ë²ˆí˜¸ ì‚¬ìš©
   - ìƒŒë“œë°•ìŠ¤ í™˜ê²½
```

### 3. í”„ë¡œë•ì…˜ ê°€ë§¹ì  ë“±ë¡
```
1. ê°€ë§¹ì  ì‹ ì²­
   - ì‚¬ì—…ì ì •ë³´ ì…ë ¥
   - ì„œë¹„ìŠ¤ ì •ë³´ ì…ë ¥
   - ì •ì‚° ê³„ì¢Œ ì •ë³´

2. í•„ìš” ì„œë¥˜
   - ì‚¬ì—…ìë“±ë¡ì¦
   - ëŒ€í‘œì ì‹ ë¶„ì¦
   - í†µì¥ ì‚¬ë³¸

3. ì‹¬ì‚¬ ê¸°ê°„
   - ì¼ë°˜ì ìœ¼ë¡œ ì˜ì—…ì¼ ê¸°ì¤€ 3-5ì¼
   - ê³ ìœ„í—˜ ì—…ì¢…ì€ ì¶”ê°€ ì‹¬ì‚¬ í•„ìš”
```

### 4. Vercel í™˜ê²½ ë³€ìˆ˜ ë“±ë¡
```bash
# í…ŒìŠ¤íŠ¸ í™˜ê²½
vercel env add TOSS_CLIENT_KEY       # test_ck_xxx
vercel env add TOSS_SECRET_KEY       # test_sk_xxx
vercel env add TOSS_WEBHOOK_SECRET   # ì›¹í›… ì‹œí¬ë¦¿

# í”„ë¡œë•ì…˜ í™˜ê²½ (ê°€ë§¹ì  ìŠ¹ì¸ í›„)
vercel env add TOSS_CLIENT_KEY production    # live_ck_xxx
vercel env add TOSS_SECRET_KEY production    # live_sk_xxx
```

### 5. ì›¹í›… URL ë“±ë¡
```
1. í† ìŠ¤ ê°œë°œìì„¼í„° > ì›¹í›… ì„¤ì •
2. ì›¹í›… URL ë“±ë¡:
   - í…ŒìŠ¤íŠ¸: https://your-preview.vercel.app/api/webhook/toss-payments
   - í”„ë¡œë•ì…˜: https://your-domain.com/api/webhook/toss-payments

3. êµ¬ë…í•  ì´ë²¤íŠ¸:
   - PAYMENT_STATUS_CHANGED
   - BILLING_STATUS_CHANGED
   - DEPOSIT_CALLBACK
```

### 6. ê²°ì œ ìˆ˜ë‹¨ ì„¤ì •
```
í™œì„±í™”í•  ê²°ì œ ìˆ˜ë‹¨:
- [x] ì‹ ìš©/ì²´í¬ì¹´ë“œ
- [x] ê°„í¸ê²°ì œ (í† ìŠ¤í˜ì´, ì¹´ì¹´ì˜¤í˜ì´ ë“±)
- [ ] ê°€ìƒê³„ì¢Œ (ì„ íƒ)
- [ ] ê³„ì¢Œì´ì²´ (ì„ íƒ)
- [ ] íœ´ëŒ€í° ê²°ì œ (ì„ íƒ)
```

### 7. ì •ê¸°ê²°ì œ(ë¹Œë§) ì„¤ì •
```
1. ë¹Œë§ ì„œë¹„ìŠ¤ ì‹ ì²­
   - ë³„ë„ ì‹¬ì‚¬ í•„ìš”
   - ì„œë¹„ìŠ¤ ì„¤ëª… ë¬¸ì„œ ì œì¶œ

2. ë¹Œë§ ì„¤ì •
   - ê²°ì œ ì£¼ê¸°: ì›” ë‹¨ìœ„
   - ê²°ì œì¼: ê°€ì…ì¼ ê¸°ì¤€ ë˜ëŠ” ê³ ì •ì¼
   - ì¬ì‹œë„ ì •ì±…: 3íšŒ (1ì¼, 3ì¼, 7ì¼ í›„)
```

### 8. ì„¤ì • í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸
- ìœ„ì¹˜: `docs/PG_SETUP_CHECKLIST.md`

```markdown
# PGì‚¬ ì„¤ì • ì²´í¬ë¦¬ìŠ¤íŠ¸

## ê³„ì • ë° í‚¤
- [ ] í† ìŠ¤ í˜ì´ë¨¼íŠ¸ ê³„ì • ìƒì„±
- [ ] í…ŒìŠ¤íŠ¸ API í‚¤ í™•ì¸
- [ ] í”„ë¡œë•ì…˜ API í‚¤ ë°œê¸‰ (ê°€ë§¹ì  ìŠ¹ì¸ í›„)

## ê°€ë§¹ì  ë“±ë¡
- [ ] ì‚¬ì—…ì ì •ë³´ ì…ë ¥
- [ ] í•„ìš” ì„œë¥˜ ì œì¶œ
- [ ] ê°€ë§¹ì  ì‹¬ì‚¬ ì™„ë£Œ

## í™˜ê²½ ì„¤ì •
- [ ] Vercel í™˜ê²½ ë³€ìˆ˜ ë“±ë¡ (í…ŒìŠ¤íŠ¸)
- [ ] Vercel í™˜ê²½ ë³€ìˆ˜ ë“±ë¡ (í”„ë¡œë•ì…˜)
- [ ] ì›¹í›… URL ë“±ë¡

## ê²°ì œ ìˆ˜ë‹¨
- [ ] ì¹´ë“œ ê²°ì œ í™œì„±í™”
- [ ] ê°„í¸ê²°ì œ í™œì„±í™”
- [ ] ì •ê¸°ê²°ì œ(ë¹Œë§) ì‹ ì²­

## í…ŒìŠ¤íŠ¸
- [ ] í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ê²°ì œ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [ ] ì›¹í›… ìˆ˜ì‹  í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- [ ] ì·¨ì†Œ/í™˜ë¶ˆ í…ŒìŠ¤íŠ¸ ì™„ë£Œ

## ìš´ì˜ ì¤€ë¹„
- [ ] ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ ì„¤ì •
- [ ] ì•Œë¦¼ ì„¤ì • (ê²°ì œ ì‹¤íŒ¨ ë“±)
- [ ] ì •ì‚° ì£¼ê¸° í™•ì¸
```

### 9. í…ŒìŠ¤íŠ¸ ì¹´ë“œ ì •ë³´
```
í† ìŠ¤ í˜ì´ë¨¼íŠ¸ í…ŒìŠ¤íŠ¸ ì¹´ë“œ:
- ì¹´ë“œë²ˆí˜¸: 4330000000000000
- ìœ íš¨ê¸°ê°„: 12/25 (ë¯¸ë˜ ë‚ ì§œ)
- CVC: 123
- ë¹„ë°€ë²ˆí˜¸: 00

í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤:
- ì„±ê³µ: ìœ„ ì¹´ë“œ ì •ë³´ ì‚¬ìš©
- ì‹¤íŒ¨: ì¹´ë“œë²ˆí˜¸ 4000000000000002
- ì”ì•¡ë¶€ì¡±: ì¹´ë“œë²ˆí˜¸ 4000000000000010
```

### 10. ë¬¸ì˜ ë° ì§€ì›
```
í† ìŠ¤ í˜ì´ë¨¼íŠ¸ ì§€ì›:
- ê¸°ìˆ  ë¬¸ì˜: tech@tosspayments.com
- ê°€ë§¹ì  ë¬¸ì˜: merchant@tosspayments.com
- ì „í™”: 1599-4905

ë¬¸ì„œ:
- ê°œë°œì ë¬¸ì„œ: https://docs.tosspayments.com/
- API ë ˆí¼ëŸ°ìŠ¤: https://docs.tosspayments.com/reference
```

## Expected Output Files
- `docs/PG_SETUP_CHECKLIST.md`
- Vercel í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì™„ë£Œ
- í† ìŠ¤ í˜ì´ë¨¼íŠ¸ ì›¹í›… ì„¤ì • ì™„ë£Œ

## Completion Criteria
- [ ] í† ìŠ¤ í˜ì´ë¨¼íŠ¸ ê³„ì • ìƒì„±
- [ ] í…ŒìŠ¤íŠ¸ API í‚¤ í™•ì¸ ë° ì €ì¥
- [ ] Vercel í™˜ê²½ ë³€ìˆ˜ ë“±ë¡
- [ ] ì›¹í›… URL ë“±ë¡
- [ ] í…ŒìŠ¤íŠ¸ ê²°ì œ ì„±ê³µ
- [ ] ê°€ë§¹ì  ì‹ ì²­ (í”„ë¡œë•ì…˜ìš©)
- [ ] ì„¤ì • ì²´í¬ë¦¬ìŠ¤íŠ¸ ì™„ë£Œ

## Tech Stack
- í† ìŠ¤ í˜ì´ë¨¼íŠ¸
- Vercel

## Tools
- Bash (vercel env)
- ì›¹ ë¸Œë¼ìš°ì € (í† ìŠ¤ ê°œë°œìì„¼í„°)

## Execution Type
Human-Assisted

## Remarks
- ê°€ë§¹ì  ì‹¬ì‚¬ì— 3-5 ì˜ì—…ì¼ ì†Œìš”
- ì •ê¸°ê²°ì œëŠ” ë³„ë„ ì‹¬ì‚¬ í•„ìš”
- í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ì¶©ë¶„íˆ í…ŒìŠ¤íŠ¸ í›„ í”„ë¡œë•ì…˜ ì´ê´€
- PCI DSS ê·œì • ì¤€ìˆ˜ í•„ìš”

---

## âš ï¸ ì‘ì—… ê²°ê³¼ë¬¼ ì €ì¥ 2ëŒ€ ê·œì¹™

> **ì´ ê·œì¹™ì€ ë°˜ë“œì‹œ ì¤€ìˆ˜í•˜ì„¸ìš”!**

### ì œ1 ê·œì¹™: Stage + Area í´ë”ì— ì €ì¥
- Task IDì˜ Stageì™€ Areaì— í•´ë‹¹í•˜ëŠ” í´ë”ì— ì €ì¥
- ì˜ˆ: S1S1 â†’ `S1_ê°œë°œ_ì¤€ë¹„/Security/`
- ì˜ˆ: S2F1 â†’ `S2_ê°œë°œ-1ì°¨/Frontend/`

### ì œ2 ê·œì¹™: Production ì½”ë“œëŠ” ì´ì¤‘ ì €ì¥
- Frontend, Database, Backend_APIs ì½”ë“œëŠ” Stage í´ë” + Production í´ë” ë‘˜ ë‹¤ ì €ì¥
- ë¬¸ì„œ(Documentation, Security, Testing, DevOps)ëŠ” Stage í´ë”ì—ë§Œ ì €ì¥

**Area í´ë” ë§¤í•‘:** Mâ†’Documentation, Fâ†’Frontend, BIâ†’Backend_Infra, BAâ†’Backend_APIs, Dâ†’Database, Sâ†’Security, Tâ†’Testing, Oâ†’DevOps, Eâ†’External, Câ†’Content

