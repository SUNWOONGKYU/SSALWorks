# 검증 완료 후 문서화하기

## 핵심 요약

작업 완료 → 검증 → 문서화 → 보고 순서로 마무리하세요. outbox에 작업 결과와 검증 결과 JSON을 저장하고, Grid에 검증 정보를 기록합니다.

## 왜 문서화가 중요한가?

### 문서화의 가치

| 목적 | 효과 |
|------|------|
| 추적성 | 무엇을, 언제, 어떻게 작업했는지 기록 |
| 검증 증거 | 테스트/검증이 완료되었음을 증명 |
| 인수인계 | 다른 사람이 작업 내용 파악 가능 |
| 유지보수 | 나중에 수정할 때 참고 자료 |
| 품질 보장 | 체계적인 검증 프로세스 증거 |

### 문서화 없을 때 vs 있을 때

```
❌ 문서화 없이:
"이거 누가 검증했어?"
"테스트 통과했어?"
"뭘 어떻게 작업한 거야?"
→ 혼란, 재작업, 품질 불확실

✅ 문서화 있을 때:
- 작업 결과 보고서 확인
- 검증 결과 리포트 확인
- Grid 검증 필드 확인
→ 명확, 신뢰, 품질 보장
```

## 문서화 프로세스

### 전체 흐름

```
[1. 작업 완료]
    ↓
[2. 검증 수행]
    ├── Task Agent (서브에이전트) → 작업
    └── Verification Agent (서브에이전트) → 검증
    ↓
[3. 문서화]
    ├── 작업 결과 보고서 (outbox)
    ├── 검증 결과 보고서 (outbox)
    └── Grid 검증 필드 업데이트
    ↓
[4. 보고]
    └── 사용자에게 완료 보고
```

### 생성해야 할 문서

| 문서 | 저장 위치 | 내용 |
|------|----------|------|
| 작업 결과 보고서 | `Web_ClaudeCode_Bridge/outbox/` | 작업 내용, 생성 파일 |
| 검증 결과 보고서 | `Web_ClaudeCode_Bridge/outbox/` | 테스트/빌드 결과 |
| Stage Gate 리포트 | `ssal-grid/stage-gates/` | Stage 전체 검증 |
| Grid 필드 | SAL Grid DB | 검증 상세 정보 |

## 작업 결과 보고서

### 파일명 규칙

```
{task_id}_{task_name}_completed.json

예시:
- S2BA1_signup_api_completed.json
- S2F1_login_page_completed.json
- agenda3_faq_system_completed.json
```

### 보고서 형식

```json
{
  "task_id": "S2BA1",
  "task_name": "회원가입 API",
  "status": "완료",
  "completed_at": "2025-01-15T10:30:00Z",

  "summary": "회원가입 API 구현 완료. 이메일/비밀번호 검증, Supabase Auth 연동, 프로필 자동 생성 기능 포함.",

  "generated_files": [
    {
      "path": "S2_개발-1차/Backend_API/S2BA1_signup.ts",
      "description": "회원가입 API 메인 파일"
    },
    {
      "path": "Production/Backend_API/signup.ts",
      "description": "Production용 복사본"
    }
  ],

  "key_features": [
    "이메일 형식 검증",
    "비밀번호 강도 검증 (8자 이상, 특수문자 포함)",
    "중복 이메일 확인",
    "프로필 자동 생성"
  ],

  "dependencies_used": ["S1D1", "S1S1"],

  "notes": "Supabase RLS 정책이 적용된 상태에서 테스트 완료"
}
```

## 검증 결과 보고서

### 파일명 규칙

```
{task_id}_{task_name}_verification.json

예시:
- S2BA1_signup_api_verification.json
- S2F1_login_page_verification.json
```

### 보고서 형식

```json
{
  "task_id": "S2BA1",
  "task_name": "회원가입 API",
  "verified_at": "2025-01-15T11:00:00Z",
  "verification_agent": "code-reviewer",

  "test_results": {
    "unit_tests": {
      "status": "✅ 통과",
      "total": 12,
      "passed": 12,
      "failed": 0
    },
    "integration_tests": {
      "status": "✅ 통과",
      "total": 5,
      "passed": 5,
      "failed": 0
    },
    "e2e_tests": {
      "status": "✅ 통과",
      "total": 3,
      "passed": 3,
      "failed": 0
    }
  },

  "build_results": {
    "compile": "✅ 성공",
    "lint": "✅ 0 errors, 0 warnings",
    "type_check": "✅ 0 errors"
  },

  "code_review": {
    "code_quality": "✅ 양호",
    "security_check": "✅ 취약점 없음",
    "performance": "✅ 최적화됨",
    "comments": "코드 구조가 깔끔하고 에러 처리가 적절함"
  },

  "issues_found": [],

  "final_result": "✅ 통과",

  "recommendations": [
    "향후 rate limiting 추가 고려",
    "이메일 인증 기능 Stage 3에서 추가 예정"
  ]
}
```

## Grid 검증 필드 업데이트

### 업데이트할 필드 (16-21번)

```javascript
// #16 Test
{
  "unit_test": "✅ 12/12 통과",
  "integration_test": "✅ 5/5 통과",
  "e2e_test": "✅ 3/3 통과",
  "manual_test": "✅ 완료"
}

// #17 Build
{
  "compile": "✅ 성공",
  "lint": "✅ 0 errors",
  "type_check": "✅ 0 errors",
  "runtime": "✅ 정상 동작"
}

// #18 Integration Verification
{
  "dependency_propagation": "✅ S1D1, S1S1 연동 확인",
  "cross_task_connection": "✅ 정상",
  "data_flow": "✅ DB ↔ API ↔ Client 정상"
}

// #19 Blockers
{
  "dependency": "None",
  "environment": "None",
  "external_api": "None",
  "status": "No Blockers ✅"
}

// #20 Comprehensive Verification
{
  "task_instruction": "✅ 모든 요구사항 충족",
  "test": "✅ 20/20 통과",
  "build": "✅ 성공",
  "integration": "✅ 정상",
  "blockers": "✅ None",
  "final": "✅ Passed"
}

// #21 Verification Note
"2025-01-15 code-reviewer 검증 완료.
모든 테스트 통과, 빌드 성공, 보안 검사 통과."
```

## 완료 보고 형식

### 사용자에게 보고

```
✅ 작업 완료 및 검증 완료

작업 내용:
- 회원가입 API 구현 (S2BA1)
- 이메일/비밀번호 검증 기능
- Supabase Auth 연동
- 프로필 자동 생성

생성된 파일:
- S2_개발-1차/Backend_API/S2BA1_signup.ts
- Production/Backend_API/signup.ts

검증 결과:
- ✅ Unit Tests: 12/12 통과
- ✅ Integration Tests: 5/5 통과
- ✅ E2E Tests: 3/3 통과
- ✅ Build: 성공
- ✅ Lint: 0 errors

문서화:
- ✅ Web_ClaudeCode_Bridge/outbox/S2BA1_signup_api_completed.json
- ✅ Web_ClaudeCode_Bridge/outbox/S2BA1_signup_api_verification.json
- ✅ Grid 검증 필드 업데이트 완료

다음 작업 지시를 기다리겠습니다.
```

## Stage Gate 리포트

### Stage 전체 완료 시

```
저장 위치:
S0_Project-SSAL-Grid_생성/ssal-grid/stage-gates/S{N}GATE_verification_report.md
```

### 리포트 내용

```markdown
# S2 Stage Gate 검증 리포트

## 검증 정보
- 검증일: 2025-01-20
- 검증자: Claude Code (Main Agent)
- Stage: S2 (개발 1차)

## Task 완료 현황

| Task ID | Task명 | 상태 | 검증 결과 |
|---------|--------|------|----------|
| S2BA1 | 회원가입 API | ✅ 완료 | ✅ 통과 |
| S2BA2 | 로그인 API | ✅ 완료 | ✅ 통과 |
| S2F1 | 로그인 페이지 | ✅ 완료 | ✅ 통과 |
| S2F2 | 회원가입 페이지 | ✅ 완료 | ✅ 통과 |

## 테스트 결과 종합
- 단위 테스트: ✅ 48/48 통과
- 통합 테스트: ✅ 20/20 통과
- E2E 테스트: ✅ 12/12 통과

## 빌드 결과
- 컴파일: ✅ 성공
- 린트: ✅ 0 errors
- 타입체크: ✅ 0 errors

## AI 검증 결과
- 종합 판정: ✅ Stage Gate 통과
- 비고: 모든 Task 완료, 테스트 통과, 빌드 성공

## PO 테스트 가이드
[별첨 참조]

## PO 승인
- [ ] PO 테스트 완료
- [ ] PO 최종 승인
```

## Claude Code에게 요청하기

### 문서화 요청

```
"S2BA1 작업 완료했어.
작업 결과 보고서랑 검증 결과 보고서 만들어줘."
```

### Grid 업데이트 요청

```
"S2BA1 검증 결과를 Grid에 업데이트해줘:
- 테스트 12/12 통과
- 빌드 성공
- 린트 0 errors"
```

### Stage Gate 리포트 요청

```
"S2 Stage Gate 검증 리포트 작성해줘.
모든 Task 완료 현황이랑 테스트 결과 포함해서."
```

## 체크리스트

### 작업 완료 후

- [ ] 검증 수행 (Verification Agent)
- [ ] 작업 결과 보고서 작성 (outbox)
- [ ] 검증 결과 보고서 작성 (outbox)
- [ ] Grid 검증 필드 업데이트 (#16-21)
- [ ] 사용자에게 완료 보고

### Stage 완료 후

- [ ] Stage Gate 검증 수행 (Main Agent)
- [ ] Stage Gate 리포트 작성 (stage-gates/)
- [ ] PO 테스트 가이드 제공
- [ ] PO 승인 대기

## 주의사항

- 검증 없이 문서화 금지 (검증 → 문서화 순서)
- outbox 파일명 규칙 준수
- Grid 필드는 JSON 형식으로 작성
- Stage Gate 리포트는 반드시 파일로 저장
- PO 승인 전까지 Stage Gate 통과 선언 금지
- 모든 문서에 날짜와 검증자 명시

