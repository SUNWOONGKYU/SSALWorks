# 작업 규칙 CLAUDE.md에 업데이트하기

## 핵심 요약

새로운 작업 규칙이 생기면 `CLAUDE.md` 파일과 관련 문서에 수시로 업데이트하세요. 규칙이 문서화되어 있어야 Claude Code가 일관되게 작업합니다.

## 왜 규칙 업데이트가 필요한가?

### CLAUDE.md 역할

```
CLAUDE.md = Claude Code의 작업 지침서

모든 세션에서 Claude Code가 읽음
→ 여기 적힌 규칙대로 작업
→ 규칙 없으면 매번 다르게 작업
```

### 규칙 업데이트 안 하면

```
❌ 업데이트 안 함:
"Production 폴더에 직접 저장하지 마"라고 말함
→ 다음 세션 → 규칙 모름 → Production에 직접 저장

✅ CLAUDE.md에 추가:
"Production 폴더에 직접 저장하지 마"를 CLAUDE.md에 추가
→ 다음 세션 → 규칙 확인 → Stage 폴더에 먼저 작업
```

## 업데이트할 규칙 유형

### 1. 금지 규칙

```markdown
## 🛑 절대 규칙
- 새 폴더 생성 전 사용자 승인 필수
- Production 직접 수정 금지
- 민감정보 코드에 하드코딩 금지
```

### 2. 저장 위치 규칙

```markdown
## 파일 저장 규칙
- Frontend 코드: S?_*/Frontend/ + Production/Frontend/
- Backend API: S?_*/Backend_API/ + Production/Backend_API/
- 문서: S?_*/Documentation/
```

### 3. 작업 절차 규칙

```markdown
## 작업 완료 시 필수 작업
1. work_logs/current.md 업데이트
2. 변경 파일 목록 기록
3. 검증 결과 저장
```

### 4. 네이밍 규칙

```markdown
## 네이밍 규칙
- 파일명: snake_case (예: user_profile.js)
- 함수명: camelCase (예: getUserProfile)
- 상수: UPPER_SNAKE_CASE (예: MAX_RETRY)
```

## 업데이트 지시 방법

### 간단한 추가

```
"CLAUDE.md에 '새 폴더 생성 전 승인 필수' 규칙 추가해줘"
```

### 상세한 추가

```
"CLAUDE.md의 '절대 규칙' 섹션에 다음 추가해줘:
- 테스트 없이 완료 보고 금지
- 검증 에이전트 분리 필수"
```

### 기존 규칙 수정

```
"CLAUDE.md의 파일 저장 규칙에서
Documentation 경로를 S?_*/Documentation/으로 수정해줘"
```

## 업데이트 시점

### 즉시 업데이트해야 하는 경우

| 상황 | 예시 |
|------|------|
| 실수가 발생했을 때 | "이거 하지 마" → 규칙으로 추가 |
| 새 작업 방식 정해졌을 때 | "앞으로 이렇게 해" → 규칙으로 추가 |
| 기존 규칙이 변경됐을 때 | "이제 저기 말고 여기에" → 규칙 수정 |
| 혼란이 있었을 때 | 명확한 기준 추가 |

### 업데이트 흐름

```
실수 발생 또는 새 규칙 필요
    ↓
"이 규칙 CLAUDE.md에 추가해줘"
    ↓
Claude Code가 CLAUDE.md 수정
    ↓
다음 세션부터 규칙 적용됨
```

## CLAUDE.md 구조

### 권장 섹션

```markdown
# CLAUDE.md

## 프로젝트 개요
- 프로젝트명, 목적, 기술 스택

## 🛑 절대 규칙
- 반드시 지켜야 할 금지사항

## 세션 시작 시 확인 사항
- 시작할 때 읽어야 할 파일들

## 작업 완료 시 필수 작업
- 종료 전 해야 할 일들

## 파일 저장 규칙
- 어디에 무엇을 저장하는지

## 네이밍 규칙
- 파일, 함수, 변수 명명 규칙

## 주의사항
- 프로젝트 특이사항
```

## 규칙 작성 팁

### 1. 명확하고 구체적으로

```markdown
❌ 모호한 규칙:
"파일을 잘 정리하세요"

✅ 명확한 규칙:
"HTML 파일은 S?_*/Frontend/pages/ 폴더에 저장"
```

### 2. 예시 포함

```markdown
## 커밋 메시지 규칙
형식: <타입>: <설명>

예시:
- feat: 로그인 기능 추가
- fix: 이메일 유효성 검사 버그 수정
```

### 3. 이유 설명 (선택)

```markdown
## Production 직접 수정 금지
**이유**: Stage에서 검증 후 Production으로 복사해야 안전함
```

## 규칙 관리

### 정기 점검

```
월 1회 CLAUDE.md 점검:
- 오래된 규칙 삭제
- 중복 규칙 정리
- 모순되는 규칙 수정
```

### 규칙 우선순위

```markdown
규칙이 충돌할 때:
1. 🛑 절대 규칙 (최우선)
2. 저장 위치 규칙
3. 기타 규칙
```

## 주의사항

- CLAUDE.md가 너무 길면 핵심이 묻힘 (적정 분량 유지)
- 상충되는 규칙 없도록 주의
- 규칙 변경 시 관련 문서도 함께 수정
- 너무 세세한 규칙은 오히려 혼란
- 중요한 규칙은 강조 (🛑, ⚠️ 등)
