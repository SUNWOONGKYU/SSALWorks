# 5회 반복 검토로 근본 원인 찾기

> AI가 표면적인 수정만 반복할 때, "5번 반복해서 검토해봐" 지시로 숨겨진 근본 원인을 찾아내는 기법입니다.

---

## 언제 사용하나

Claude Code에게 버그 수정을 요청하면 보통 가장 가능성 높은 원인부터 시도합니다. 대부분은 효율적이지만, 복잡한 버그에서는 표면적 수정만 반복됩니다.

**이 기법이 필요한 상황:**
- "수정했는데 안 돼요"가 2회 이상 반복됨
- AI가 추측성 수정만 계속 시도함
- 한 가지 수정만으로 해결되지 않음

---

## 핵심 지시문

```
안 되는 근본 원인을 신중하게 심각하게 찾아봐.
될 때까지 5번 반복해서 검토 → 수정 → 검토 → 수정 해봐.
그리고 나서 나한테 얘기해.
```

**왜 효과적인가:**

| 요소 | 효과 |
|------|------|
| "5번 반복" | 한두 번 시도 후 멈추지 않고 계속 분석 |
| "신중하게 심각하게" | 빠른 추측 대신 깊은 분석 유도 |
| "검토 → 수정 → 검토" | 무작정 수정하지 않고 분석 단계 거침 |
| "다 하고 나서 얘기해" | 완전한 분석 후 종합 보고 |

---

## 실제 사례: P0~S0 진행률 미표시

배포된 웹사이트에서 진행률이 표시되지 않는 문제가 발생했습니다.

**1-2차 시도 (실패):** null 체크 추가, 호출 시점 변경 등 표면적 수정

**5회 반복 검토 지시 후:**

| 회차 | 분석 내용 | 결과 |
|------|----------|------|
| 1-2차 | 기존 수정 재검토 | 실패 원인 파악 |
| 3차 | 스크립트 블록 구조 분석 | **근본 원인 A 발견**: `let` 변수가 다른 스크립트 블록에서 접근 불가 |
| 4차 | 함수 정의 확인 | **근본 원인 B 발견**: 호출되는 함수가 정의되지 않음 |
| 5차 | 종합 수정 및 검증 | 배포 성공 |

2개의 숨겨진 근본 원인을 찾아 해결했습니다.

---

## 5회 반복 중 권장 분석 방법

| 회차 | 분석 내용 | 방법 예시 |
|------|----------|----------|
| 1차 | 에러 메시지 확인 | 브라우저 콘솔, 서버 로그 |
| 2차 | 코드 흐름 추적 | `grep -n "함수명"` |
| 3차 | 파일/블록 구조 | `grep -n "<script"` |
| 4차 | 함수/변수 정의 | `grep -n "function 함수명"` |
| 5차 | 종합 수정 및 검증 | 문법 체크 + 실제 테스트 |

---

## 사용하면 안 되는 경우

| 상황 | 더 적합한 방법 |
|------|---------------|
| 단순 오타 | 바로 수정 요청 |
| 1회 수정으로 해결 | 추가 분석 불필요 |
| 명확한 에러 메시지 | 에러 메시지 그대로 전달 |

---

## 주의사항

1. **AI가 "해결됐다"고 해도 직접 테스트** - 중간 보고를 맹신하지 않음
2. **횟수는 상황에 맞게 조절** - 간단하면 3번, 복잡하면 7번
3. **"지금 몇 번째야?" 추가** - AI의 현재 진행 상황 파악 가능

---

## 요약

**지시문:** "안 되는 근본 원인을 신중하게 심각하게 찾아봐. 될 때까지 5번 반복해서 검토 → 수정 해봐. 다 하고 나서 얘기해."

**사용 시점:** 2회 이상 수정 실패, 복합적 원인 의심, 구조적 문제 의심

---

*작성일: 2025-12-23*
