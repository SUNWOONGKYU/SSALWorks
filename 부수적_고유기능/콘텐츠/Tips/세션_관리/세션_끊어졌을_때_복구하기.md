# 세션 끊어졌을 때 복구하기

## 핵심 요약

새 세션에서 "이전 작업 이어서 해줘" 또는 "work_logs 확인하고 진행해줘"라고 하면 됩니다. `git status`로 변경사항 확인, `work_logs/current.md` 읽기 등으로 이전 작업을 파악할 수 있습니다.

## 세션이 끊어지는 경우

### 일반적인 원인

```
- 네트워크 연결 끊김
- 컴퓨터 절전 모드 진입
- 브라우저/터미널 비정상 종료
- 토큰 한도 도달
- 장시간 미입력 (타임아웃)
```

### 끊어졌을 때 손실되는 것

```
❌ 손실됨:
- 현재 대화 컨텍스트
- 진행 중이던 작업 상태

✅ 유지됨:
- 저장된 파일
- Git 커밋
- work_logs 기록
- CLAUDE.md 설정
```

## 복구 방법

### 간단한 복구 (한 마디로)

```
"이전 작업 이어서 해줘"
또는
"work_logs 확인하고 진행해줘"
```

Claude Code가 자동으로:
1. work_logs/current.md 읽기
2. 이전 작업 내역 파악
3. 다음 작업 확인
4. 이어서 진행

### 상세 복구 (직접 지시)

```
"다음 파일들을 읽고 현재 상황을 파악해줘:
1. .claude/work_logs/current.md
2. P0_작업_디렉토리_구조_생성/Project_Status.md
3. git status 확인"
```

## 복구 절차

### 1단계: 작업 로그 확인

```
Claude Code가 읽어야 할 파일:
.claude/work_logs/current.md

확인 내용:
- 현재 단계
- 완료된 작업
- 다음 작업
- 참고사항
```

### 2단계: Git 상태 확인

```bash
git status

확인 내용:
- 수정된 파일
- 스테이징된 파일
- 커밋되지 않은 변경
```

### 3단계: 프로젝트 상태 확인

```
P0_작업_디렉토리_구조_생성/Project_Status.md

확인 내용:
- 전체 진행률
- 현재 단계
- 다음 마일스톤
```

## 복구 시나리오별 대응

### 작업 중간에 끊어진 경우

```
문제: 파일 수정 중 세션 종료

확인:
1. git status로 수정된 파일 확인
2. 파일 내용 확인 (완성도 체크)

대응:
- 완성된 경우 → 커밋 후 진행
- 미완성인 경우 → 이어서 작업
```

### 검증 중 끊어진 경우

```
문제: 검증 진행 중 세션 종료

확인:
1. outbox에 검증 결과 있는지
2. work_logs에 검증 기록 있는지

대응:
- 결과 있으면 → 다음 단계 진행
- 결과 없으면 → 검증 재실행
```

### 커밋 중 끊어진 경우

```
문제: 커밋 명령 실행 중 종료

확인:
1. git log로 커밋 확인
2. git status로 스테이징 확인

대응:
- 커밋 완료 → 다음 작업
- 스테이징만 → 커밋 실행
- 아무것도 안 됨 → 처음부터
```

## 예방 방법

### 1. 정기적 저장

```
✅ 좋은 습관:
- 작업 단위마다 커밋
- 중간 결과 저장
- work_logs 업데이트

❌ 피해야 할 습관:
- 긴 작업을 한 번에
- 저장 없이 계속 진행
- 기록 없이 작업
```

### 2. work_logs 활용

```
작업 중:
- 완료된 것 기록
- 다음 할 것 기록
- 중요 결정사항 메모

세션 종료 전:
- 현재 상태 업데이트
- 다음 작업 명시
```

### 3. 작은 단위로 작업

```
❌ 나쁜 예:
"전체 기능 구현해줘" → 2시간 후 세션 종료 → 전부 날아감

✅ 좋은 예:
"로그인 UI 만들어줘" → 완료 → 커밋
"로그인 API 만들어줘" → 완료 → 커밋
"테스트 작성해줘" → 완료 → 커밋
```

## 복구 확인 체크리스트

### 세션 시작 시 확인

- [ ] work_logs/current.md 읽었는가?
- [ ] 현재 단계 파악했는가?
- [ ] 다음 작업이 무엇인지 알았는가?
- [ ] git status로 변경사항 확인했는가?

### 복구 완료 후 확인

- [ ] 이전 작업 상태를 정확히 파악했는가?
- [ ] 손실된 작업이 있는가?
- [ ] 이어서 작업할 준비가 되었는가?

## 주의사항

- 끊어진 직후 바로 새 세션 시작 권장
- 복구 전 파일 상태 먼저 확인
- 불확실하면 사용자에게 확인 요청
- 중요한 작업은 자주 저장/커밋
- CLAUDE.md에 복구 지침 포함하면 더 효과적
