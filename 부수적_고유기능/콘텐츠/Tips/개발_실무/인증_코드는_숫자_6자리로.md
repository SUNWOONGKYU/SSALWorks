# 이메일/비밀번호 재설정 인증 코드는 숫자 6자리로 통일하기

> 이 문서는 이메일 인증, 비밀번호 재설정 등에 사용되는 인증 코드의 형식을 설명합니다.

---

## 왜 숫자 6자리인가

| 형식 | 경우의 수 | 입력 편의성 | 보안 |
|------|----------|-------------|------|
| 숫자 4자리 | 10,000 | 매우 쉬움 | 약함 |
| **숫자 6자리** | **1,000,000** | **쉬움** | **충분** |
| 영문+숫자 6자리 | 2,176,782,336 | 어려움 | 매우 강함 |

숫자 6자리는 100만 가지 경우의 수에 시도 횟수 제한(3~5회)을 더하면 충분한 보안을 제공합니다.

---

## 인증 코드 생성

```javascript
function generateVerificationCode() {
  // 100000 ~ 999999 사이의 랜덤 숫자
  return Math.floor(100000 + Math.random() * 900000).toString();
}
```

---

## 보안 강화 요소

| 요소 | 권장값 | 설명 |
|------|--------|------|
| 유효 시간 | 5~10분 | 시간 지나면 만료 |
| 시도 횟수 | 3~5회 | 초과 시 새 코드 요청 필요 |
| 재발송 쿨다운 | 60초 | 연속 요청 방지 |

---

## Claude Code에게 요청하기

```
"이메일 인증 코드 기능 만들어줘:
- 코드 형식: 숫자 6자리
- 유효 시간: 5분
- 시도 횟수: 3회 제한
- 재발송 쿨다운: 60초"
```

---

## 주의사항

**서버 측에서만 생성**: 클라이언트에서 생성하면 사용자가 조작할 수 있습니다.

**로그에 코드 기록 금지**: 코드가 로그에 남으면 보안 위험입니다.

**사용된 코드 즉시 무효화**: 한 번 사용된 코드는 재사용 불가능하게 합니다.

---

## 입력 필드 최적화

```html
<!-- 숫자 키패드 표시 (모바일) -->
<input
  type="text"
  inputmode="numeric"
  pattern="[0-9]{6}"
  maxlength="6"
  autocomplete="one-time-code"
  placeholder="000000"
>
```

---

## 체크리스트

### 구현 전
- [ ] 인증 코드 형식을 정했는가? (숫자 6자리 권장)
- [ ] 유효 시간, 시도 횟수, 재발송 쿨다운을 정했는가?

### 구현 후
- [ ] 유효 시간이 지나면 코드가 만료되는가?
- [ ] 시도 횟수 초과 시 차단되는가?
- [ ] 사용된 코드는 재사용 불가능한가?

---

*더 자세한 인증 설정은 `외부_연동_설정_Guide/02_회원인증_설정.md`에서 확인할 수 있습니다.*

