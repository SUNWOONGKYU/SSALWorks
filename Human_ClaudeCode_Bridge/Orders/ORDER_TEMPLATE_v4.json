{
  "order_id": "ORDER-S{N}-YYYYMMDD-NNN",
  "created_at": "YYYY-MM-DDTHH:mm:ssZ",
  "stage": "S{N}",
  "stage_name": "{Stage Name}",
  "version": "4.3",
  "purpose": "S{N} Stage ì „ì²´ ì‘ì—… ì‹¤í–‰ ì§€ì‹œ",

  "âš ï¸_MANDATORY_RULE_CHECK": {
    "_warning": "ğŸš¨ğŸš¨ğŸš¨ íŒŒì¼ ìƒì„±/ì €ì¥ ì „ ë°˜ë“œì‹œ 6ëŒ€ ì‘ì—… ê·œì¹™ í™•ì¸ í•„ìˆ˜! ğŸš¨ğŸš¨ğŸš¨",
    "_location": ".claude/rules/",

    "rules": {
      "01_file-naming.md": "íŒŒì¼ëª… ì •í•  ë•Œ í™•ì¸",
      "02_save-location.md": "â­ íŒŒì¼ ì €ì¥í•  ë•Œ í™•ì¸ (ê°€ì¥ ì¤‘ìš”!)",
      "03_area-stage.md": "í´ë” ì„ íƒí•  ë•Œ í™•ì¸",
      "04_grid-writing.md": "Grid ì—…ë°ì´íŠ¸í•  ë•Œ í™•ì¸",
      "05_execution-process.md": "Task ì‹¤í–‰í•  ë•Œ í™•ì¸",
      "06_verification.md": "ê²€ì¦í•  ë•Œ í™•ì¸"
    },

    "work_order": [
      "1. íŒŒì¼ ì €ì¥ í•„ìš” â†’ 02_save-location.md ì½ê¸°",
      "2. ê·œì¹™ì— ì •ì˜ëœ ê²½ë¡œ í™•ì¸",
      "3. ê·¸ ê²½ë¡œì— ì €ì¥ (ì¶”ì¸¡ X, ê·œì¹™ëŒ€ë¡œ!)"
    ],

    "prohibited": [
      "âŒ ê·œì¹™ í™•ì¸ ì—†ì´ í´ë” ìƒì„±/íŒŒì¼ ì €ì¥ ì ˆëŒ€ ê¸ˆì§€",
      "âŒ 'ì´ë ‡ê²Œ í•˜ë©´ ë˜ê² ì§€' ì¶”ì¸¡ ê¸ˆì§€ - ê·œì¹™ íŒŒì¼ì´ ì •ë‹µ!",
      "âŒ Project_Directory_Structure.mdë§Œ ë³´ê³  ì €ì¥ ê¸ˆì§€ - ê·œì¹™ íŒŒì¼ ìš°ì„ !"
    ],

    "past_problems_from_not_checking": [
      "Backend_API vs Backend_APIs í˜¼ìš© â†’ í´ë” ì¤‘ë³µ ìƒì„±",
      "API/ vs api/ ëŒ€ì†Œë¬¸ì í˜¼ìš© â†’ ê²½ë¡œ ë¶ˆì¼ì¹˜",
      "Backend_Infrastructure vs Backend_Infra â†’ í´ë”ëª… ë¶ˆì¼ì¹˜"
    ]
  },

  "status_transition_rules": {
    "_description": "ìƒíƒœ ì „ì´ ê·œì¹™ - ë°˜ë“œì‹œ ìˆœì„œëŒ€ë¡œ ì§„í–‰",

    "task_status": {
      "values": ["Pending", "In Progress", "Executed", "Completed"],
      "transitions": {
        "Pending": "â†’ In Progress (ì‘ì—… ì‹œì‘)",
        "In Progress": "â†’ Executed (íŒŒì¼ ìƒì„± ì™„ë£Œ)",
        "Executed": "â†’ Completed (ê²€ì¦ í†µê³¼ + ìˆ˜ì • ë°˜ì˜ í›„)"
      },
      "rules": [
        "Executed: íŒŒì¼ ìƒì„± ì™„ë£Œ ì‹œ ì„¤ì •",
        "Completed: verification_statusê°€ Verifiedì¼ ë•Œë§Œ ê°€ëŠ¥"
      ]
    },

    "verification_status": {
      "values": ["Not Verified", "In Review", "Needs Fix", "Verified"],
      "transitions": {
        "Not Verified": "â†’ In Review (ê²€ì¦ ì‹œì‘)",
        "In Review": "â†’ Needs Fix (ìˆ˜ì • í•„ìš”) ë˜ëŠ” â†’ Verified (í†µê³¼)",
        "Needs Fix": "â†’ In Review (ì¬ê²€ì¦)",
        "Verified": "ìµœì¢… ìƒíƒœ"
      }
    },

    "complete_condition": "task_status=Completed AND verification_status=Verified"
  },

  "pre_execution_validation": {
    "_description": "ì‘ì—… ì‹œì‘ ì „ í•„ìˆ˜ ê²€ì¦ ë‹¨ê³„ - PO ë™ì˜ ì „ ë°˜ë“œì‹œ ìˆ˜í–‰",

    "step_0_task_consistency_check": {
      "description": "Task ì •ë³´ ì¼ê´€ì„± ê²€ì¦",
      "actions": [
        "1. Project Task Planì˜ Task ëª©ë¡ í™•ì¸",
        "2. SSAL Grid(ssalworks_tasks)ì˜ Task ëª©ë¡ í™•ì¸",
        "3. Task ëª…ì¹­(task_name) ì¼ì¹˜ ì—¬ë¶€ í™•ì¸",
        "4. Task Instructionì´ Task ëª…ì¹­/ëª©ì ê³¼ ë¶€í•©í•˜ëŠ”ì§€ ê²€ì¦",
        "5. Verification Instructionì´ ì ì ˆí•œì§€ ê²€ì¦"
      ],
      "validation_report": {
        "task_count_match": "Project Plan vs Grid ê°œìˆ˜ ì¼ì¹˜?",
        "task_names_match": "ëª¨ë“  Task ëª…ì¹­ ì¼ì¹˜?",
        "instructions_valid": "Instruction ë‚´ìš©ì´ Task ëª©ì ê³¼ ë¶€í•©?"
      },
      "on_mismatch": "ë¶ˆì¼ì¹˜ ë°œê²¬ ì‹œ POì—ê²Œ ë³´ê³  í›„ ìˆ˜ì •"
    },

    "step_0_execution_plan": {
      "description": "ì‘ì—… ì‹¤í–‰ ê³„íš ìˆ˜ë¦½ ë° PO ë™ì˜",
      "actions": [
        "1. Stage ë‚´ ëª¨ë“  Task ì¢…í•© ê²€í† ",
        "2. Dependencies ê¸°ë°˜ ì‹¤í–‰ ìˆœì„œ ê²°ì •",
        "3. ì˜ˆìƒ ì‘ì—… ë²”ìœ„ ì •ë¦¬",
        "4. ì‹¤í–‰ ê³„íšì„œ ì‘ì„±í•˜ì—¬ POì—ê²Œ ì œì‹œ",
        "5. PO ë™ì˜ í›„ ì‘ì—… ì§„í–‰"
      ],
      "plan_format": {
        "task_list": "ì‹¤í–‰í•  Task ëª©ë¡ (ìˆœì„œëŒ€ë¡œ)",
        "dependencies_chain": "ì˜ì¡´ì„± ì²´ì¸ ì‹œê°í™”",
        "expected_outputs": "ì˜ˆìƒ ì‚°ì¶œë¬¼ ëª©ë¡",
        "human_ai_tasks": "Human-AI Task ë³„ë„ í‘œì‹œ"
      },
      "approval_required": true
    }
  },

  "execution_steps": [
    "Step 0-A: Task ì¼ê´€ì„± ê²€ì¦ (Task Plan vs Grid ë¹„êµ)",
    "Step 0-B: ì‹¤í–‰ ê³„íš ìˆ˜ë¦½ â†’ PO ë™ì˜ ë°›ê¸°",
    "Step 1: SAL Grid í™•ì¸ (Supabase ssalworks_tasks)",
    "Step 2: Task ì‹¤í–‰ ìˆœì„œ ê²°ì • (dependencies)",
    "Step 3: ê° Task ì‹¤í–‰ (task_agent ì„œë¸Œì—ì´ì „íŠ¸)",
    "Step 4: ê²€ì¦ (verification_agent ì„œë¸Œì—ì´ì „íŠ¸)",
    "Step 5: Grid ì—…ë°ì´íŠ¸ - í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ í™•ì¸!",
    "Step 6: ğŸš¨ 6ëŒ€ ê·œì¹™ í™•ì¸ â†’ ê²°ê³¼ë¬¼ íŒŒì¼ ì €ì¥ (02_save-location.md í•„ë…!)",
    "Step 7: Stage Gate ê²€ì¦",
    "Step 8: PO ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ìš”ì²­"
  ],

  "mandatory_grid_checklist": {
    "_description": "Task ì™„ë£Œ ì‹œ AIê°€ ë°˜ë“œì‹œ í™•ì¸í•´ì•¼ í•˜ëŠ” Grid í•„ë“œ",
    "_warning": "ì´ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ëª¨ë‘ ì™„ë£Œí•˜ì§€ ì•Šìœ¼ë©´ Taskë¥¼ Completedë¡œ ë³€ê²½ ê¸ˆì§€!",

    "task_execution_10_13": {
      "task_progress": "100ìœ¼ë¡œ ì„¤ì •",
      "task_status": "Completedë¡œ ì„¤ì •",
      "generated_files": "ìƒì„±ëœ íŒŒì¼ ê²½ë¡œ ëª©ë¡",
      "modification_history": "ìˆ˜ì • ì´ë ¥ (ìˆëŠ” ê²½ìš°)"
    },

    "verification_execution_16_19": {
      "_critical": "ì´ ì„¹ì…˜ì„ ë¹ ëœ¨ë¦¬ë©´ ì•ˆ ë¨!",
      "test": {
        "format": "JSONB",
        "required_fields": ["unit_test", "integration_test"],
        "example": {"unit_test": "âœ… í•¨ìˆ˜ë³„ í…ŒìŠ¤íŠ¸", "integration_test": "âœ… API ì—°ë™"}
      },
      "build": {
        "format": "JSONB",
        "required_fields": ["lint", "compile"],
        "example": {"lint": "âœ… í†µê³¼", "compile": "âœ… ë¬¸ë²• ì˜¤ë¥˜ ì—†ìŒ"}
      },
      "integration_verification": {
        "format": "JSONB",
        "required_fields": ["data_flow", "cross_task_connection"],
        "example": {"data_flow": "âœ… Input â†’ Process â†’ Output", "cross_task_connection": "âœ… ì˜ì¡´ Taskì™€ ì—°ë™"}
      },
      "blockers": {
        "format": "JSONB",
        "required_fields": ["status"],
        "example": {"status": "No Blockers âœ…"}
      }
    },

    "verification_completion_20_22": {
      "comprehensive_verification": "[task_instruction] âœ… [test] âœ… [build] âœ… [integration] âœ… [final] âœ… Passed",
      "verification_status": "Verified",
      "remarks": "íŠ¹ì´ì‚¬í•­ (ìˆëŠ” ê²½ìš°)"
    }
  },

  "completion_validation": {
    "_description": "Task ì™„ë£Œ ì „ ìë™ ê²€ì¦ ê·œì¹™",
    "rules": [
      "test í•„ë“œê°€ nullì´ë©´ Completed ê¸ˆì§€",
      "build í•„ë“œê°€ nullì´ë©´ Completed ê¸ˆì§€",
      "integration_verification í•„ë“œê°€ nullì´ë©´ Completed ê¸ˆì§€",
      "blockers í•„ë“œê°€ nullì´ë©´ Completed ê¸ˆì§€",
      "comprehensive_verificationì´ ë¹„ì–´ìˆìœ¼ë©´ Completed ê¸ˆì§€"
    ]
  },

  "references": {
    "â­_6ëŒ€_ì‘ì—…_ê·œì¹™": ".claude/rules/ (íŒŒì¼ ì €ì¥ ì „ ë°˜ë“œì‹œ í™•ì¸!)",
    "save_location_rule": ".claude/rules/02_save-location.md (ê°€ì¥ ì¤‘ìš”!)",
    "ssal_grid": "S0_Project-SSAL-Grid_ìƒì„±/ssal-grid/",
    "grid_manual": "S0_Project-SSAL-Grid_ìƒì„±/manual/PROJECT_SSAL_GRID_MANUAL.md",
    "verification_rules": ".claude/rules/06_verification.md",
    "project_rules": ".claude/CLAUDE.md"
  },

  "status": "template"
}
