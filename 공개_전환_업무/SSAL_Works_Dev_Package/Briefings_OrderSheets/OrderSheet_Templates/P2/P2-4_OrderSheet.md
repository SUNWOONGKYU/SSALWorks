# Order Sheet - P2-4 데이터베이스 설계

> **버전**: 5.4
> **단계**: P2-4 (데이터베이스 설계)
> **목적**: 데이터베이스 스키마 및 ERD 설계

---

# PART A: 표준 내용

## A1. AI 준수 사항

**AI가 반드시 지켜야 할 사항:**

1. 이 Order Sheet를 100% 이해할 때까지 작업 시작 금지
2. 규칙 파일(`.claude/rules/`) 확인 전 파일 생성/저장 금지
3. 불명확한 점은 추측 금지, 반드시 질문
4. 작업 순서 (A3 참조) 건너뛰거나 변경 금지
5. 거짓 기록 절대 금지

---

## A2. 작업 내용

**수행할 작업:**

1. 엔티티 정의
   - 주요 엔티티 식별
   - 엔티티별 속성 정의
   - 관계 설정 (1:1, 1:N, N:M)

2. 테이블 스키마 설계
   - 컬럼 정의 (이름, 타입, 제약조건)
   - Primary Key / Foreign Key
   - 인덱스 전략

3. ERD 작성
   - 엔티티 관계 다이어그램
   - 관계 유형 및 카디널리티 표시
   - Mermaid 형식 또는 텍스트

4. SQL 스크립트 생성
   - 테이블 생성 SQL
   - RLS 정책 (Supabase 사용 시)
   - 초기 데이터 시드

---

## A3. AI 작업 순서 (5단계)

### 1단계: Order Sheet 완전 이해

**체크리스트**:
- [ ] A2 작업 내용 확인
- [ ] A4 산출물 확인
- [ ] PART_B 특별 지시사항/참고사항 확인

**출력**: `'Order Sheet 확인 완료. 단계: P2-4'`

---

### 2단계: 문의사항 질문

**질문 형식**:
```
[P2-4] 질문: {내용}
옵션 A: {옵션1}
옵션 B: {옵션2}
```

**출력**: 질문 목록 또는 `'질문 없음'`

---

### 3단계: 실행 (Execution)

**체크리스트**:
- [ ] 엔티티 및 관계 정의
- [ ] 테이블 스키마 설계
- [ ] ERD 작성
- [ ] SQL 스크립트 생성

---

### 4단계: 검증 (Verification)

**체크리스트**:
- [ ] 정규화가 적절히 적용되었는가? (최소 3NF)
- [ ] 관계 설정이 올바른가?
- [ ] 성능 최적화가 고려되었는가?
- [ ] 확장성 있는 설계인가?

**출력**: `'검증 완료'`

---

### 5단계: 완료 보고 (Report)

**보고서 생성**:
- 파일명: `P2-4_completion_report.md`
- 저장 위치: `Human_ClaudeCode_Bridge/Reports/`

**보고 내용**:
- 완료된 작업 요약
- 생성된 문서
- 다음 단계 안내 (P3-1)

---

## A4. 산출물

| 산출물 | 저장 위치 |
|--------|----------|
| `ERD.md` | `P2_프로젝트_기획/Database_Design/` |
| `Schema.md` | `P2_프로젝트_기획/Database_Design/` |
| SQL 스크립트 | `P3_프로토타입_제작/Database/` |
| 완료 보고서 | `Human_ClaudeCode_Bridge/Reports/` |

---

## A5. 참조 문서

| 항목 | 위치 |
|------|------|
| 규칙 파일 | `.claude/rules/` |
| 요구사항 | `P2_프로젝트_기획/Project_Plan/` |
| Briefing | `Briefings_OrderSheets/Briefings/P2/P2-4_Briefing.md` |

---

# PART B: 프로젝트별 추가 내용

## B1. 특별 지시사항

> 이번 Order에만 적용되는 특별한 지시 (없으면 비워둠)

(없음)

---

## B2. 참고사항

> AI가 작업과 관련하여 알아야 할 배경 정보 등 (없으면 비워둠)

**PO로부터 입력 필요:**
- 서비스 설명 (데이터를 다루는 서비스)
- 주요 엔티티 (사용자, 게시물, 주문 등)
- 데이터베이스 유형 (PostgreSQL/MySQL/MongoDB)

**P2 완료 후:**
- P3 (프로토타입 제작) 진행

---

> 본 Order Sheet는 템플릿입니다. Project Owner가 프로젝트에 맞게 자유롭게 수정할 수 있습니다.
